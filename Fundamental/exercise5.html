<script>
// Apa yang ingin anda lakukan?
// 0. Menampilkan daftar buah
// 1. Menambah buah
// 2. Menghapus buah
// 3. Membeli buah
    var product = ["Keju", "Coklat", "Susu"];
    var stock = [15, 20, 25];
    var price = [10000, 20000, 25000];
    var total = [0, 0, 0]
    var qty = [0, 0, 0]
    var menuCondition = true;

    do{
    var menu = prompt("Apa yang ingin anda lakukan? \n\n" +
        "0. Menampilkan daftar produk \n" +
        "1. Menambah produk \n" +
        "2. Menghapus produk \n" +
        "3. Membeli produk"
    )
    if (menu == 0) {
        var productList = "";
        for (var i = 0; i < product.length; i++) {
        productList += [i] + ". " + product[i] + " / " + stock[i] + " pcs / Rp. " + price[i] + "\n";   
        }
        alert("Daftar Produk: \n\n"+ 
        productList);
        }
    else if (menu == 1){
        product.push(prompt("Nama Buah"));
        stock.push(prompt("Masukkan Quantity"));
        price.push(prompt("Masukkan harga"));

    } else if (menu == 2){
        product.splice(prompt("Pilih Produk yang akan dihapus: \n\n" + productList),1)
    } else if (menu == 3){
        do {
            for(var i = 0; i < product.length; i++){
                qty[i] = prompt("Masukkan jumlah " + product[i] + "\n" + "Stock " + product[i] + ": " + stock[i]);
                while (qty[i] > stock[i] || qty[i] < 0 || qty[i] == "") {
                alert("Kuantitas tidak sesuai \nSisa stock " + product[i] + ": " + stock[i]);
                }
            }
            if (qty[i] == 0 && qty[i] == 0 && qty[i] == 0 || qty[i] < 0 || qty[i] < 0 || qty[i] < 0) {
                alert("Minimal input kuantitas pada salah satu produk")
            }
        } while ((qty[i] == 0 && qty[i] == 0 && qty[i] == 0 || qty[i] < 0 || qty[i] < 0 || qty[i] < 0));
        
        var totalProduct = "";
        var totalPrice = 0;
        for (var i = 0; i < product.length; i++){
            totalProduct += product[i] + ": " + qty[i] + " x " + price[i] + " = " + (qty[i] * price[i]) + "\n";
            totalPrice += (qty[i] * price[i])
        }
        alert("Rincian pembelanjaan: \n\n" +
            totalProduct + "\n" + "Total: Rp. " + totalPrice)
        do {
            var biaya = prompt("Masukkan jumlah uang \n" +
                "Total yang harus dibayar = Rp. " + totalPrice)

            if (biaya == totalPrice) {
                alert("Terima kasih telah berbelanja di toko kami \nUang kembali anda Rp. " + (biaya - totalPrice));
            } else if (biaya > totalPrice) {
                alert("Uang kembalian anda Rp. " + (biaya - totalPrice));
                alert("Terima kasih telah berbelanja di toko kami");
            } else if (biaya < totalPrice && biaya > 1) {
                alert("Belum dapat melakukan transaksi karena uang yang anda masukkan kurang sebesar Rp. " + (totalPrice - biaya));
            } else if (biaya == 0 || biaya == null) {
                alert("Transaksi dibatalkan");
            }
        } while (biaya < totalPrice && biaya > 1);
    } else {
        var confirm = confirm("Kembali ke menu?")
        menuCondition = true;
    }
    menuCondition = confirm("Kembali ke menu?")
    }while(menuCondition)

    </script> 